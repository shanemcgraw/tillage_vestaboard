generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Message {
  id             Int       @id @default(autoincrement())
  senderEmail    String    @map("sender_email")
  senderName     String?   @map("sender_name")
  subject        String?
  rawBody        String    @map("raw_body")
  cleanedBody    String?   @map("cleaned_body")
  vestaboardText String?   @map("vestaboard_text")
  status         String    @default("pending")
  errorMessage   String?   @map("error_message")
  createdAt      DateTime  @default(now()) @map("created_at")
  reviewedAt     DateTime? @map("reviewed_at")
  postedAt       DateTime? @map("posted_at")
  messageId      String?   @unique @map("message_id")

  @@index([status])
  @@index([createdAt(sort: Desc)])
  @@map("messages")
}
